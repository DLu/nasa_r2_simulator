<?xml version="1.0"?>
<launch>
	<arg name="model" />
	<arg name="gui" default="True" />
	
	<!-- load world -->
	<node name="gazebo" pkg="gazebo" type="gazebo" args="$(find r2_gazebo)/gazebo/r2_empty.world" output="screen" respawn="false" />

	<!-- load robot -->
	<param name="/use_sim_time" value="true"/>
	<param name="robot_description" command="$(find xacro)/xacro.py '$(find r2_gazebo)/robots/r2.display.urdf.xacro'" /> 
	<node name="spawn_r2" pkg="gazebo" type="spawn_model" args="-urdf -param robot_description -model r2 -paused=true" respawn="false" output="screen" /> 

	<!-- load display -->
	<param name="use_gui" value="$(arg gui)"/>
	<node name="joint_state_publisher" pkg="joint_state_publisher" type="joint_state_publisher" />
	<node name="robot_state_publisher" pkg="robot_state_publisher" type="state_publisher" />
	<node name="rviz" pkg="rviz" type="rviz"/>
</launch>

